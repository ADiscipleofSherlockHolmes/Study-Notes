# 问题描述

输入一个字符串，内有数字和非数字字符，例如 A123x456 17960？ 302tab5876 操作：将连续的数字作为一个整数，一次存放到一数组a中，例如123存放在a[0]中，456放在a[1]中，统计共有多少个整数并输出这些数。

```c
#include <stdio.h>
int main ()
{
	char d[100];
	char *p = d;
	char a[10][100];
	int n = 0;
	int m = 0;
	gets(d);
	while(*p!='\0')
	{
		if((*p>='0') && (*p<='9'))
		{
			while((*p!='\0')&& (*p>='0') && (*p<='9'))
			{
				*(*(a+n)+m) = *p;
				m++;
				p++;
			}
			*(*(a+n)+m) = '\0';
			n++;
			m = 0;					
		}
		else
		{
			p++;
		}
	}
	for(int i=0;i<n;i++)
	{
		printf("%s\n",a[i]);
	}
	return 0;
} 
```

这个代码还是存在一些不足
- 因为不知道输入的字符串长度是多少，所以数组需要开大一些
- 字符串中是可以存在空格这个字符的，所以需要使用gets()函数来输入（一开始用了scanf，过了很久很久还没发现...我佛了）
- 不知道字符串中可以分出来多少个数字，所以a[10][100]这样的定义是非常不科学的，可以直接把字符串转换为数字，存到int数组里
- 分出的数据很有可能超过int的范围，这里用long long 定义

```c
#include <stdio.h>
int main()
{
	char str[100];
	long long num[100];
	char *p = str;
	long long *q = num;
	int flag = 0;
	long long sum=0;
	int cnt=0;
	gets(str);
	while(*p!='\0')
	{
		if(*p>='0'&&*p<='9')
		{
			sum = sum*10 + (*p-'0'); 
			flag = 1;
		}
		else
		{
			if(flag)
			{
				num[cnt++] = sum;
				sum = 0;
				flag = 0;
			} 
		} 
		p++;
	}
	if(flag)
	{
		num[cnt++] = sum;
	}
	for(int i=0;i<cnt;i++)
	{
		printf("%lld\n",num[i]);
	}
	return 0; 
} 
```



# 指针，函数，传参

需要注意的点是：子函数中j的赋值

```c
#include <stdio.h>
void f(int *x,int n)
{
	int *p,temp,*i,*j,m=(n-1)/2;
	i = x;
	j = x + n -1;
	p = x + m;
	for(;i<=p;i++,j--)
	{
		temp = *i;
		*i = *j;
		*j = temp;
	}
}
int main ()
{
	int a[10] = {1,2,3,4,5,6,7,8,9,0};
	f(a,10);
	int i;
	for(i=0;i<10;i++)
	{
		printf("%d ",a[i]);
	}
	return 0;
}
```